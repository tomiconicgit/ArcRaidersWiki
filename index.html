<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"
  />
  <meta name="theme-color" content="#0b0f14" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="stylesheet" href="./css/styles.css" />

  <title>Spatial HUD</title>
</head>
<body>
  <div id="app">
    <!-- Camera layer -->
    <video id="cam" autoplay playsinline muted></video>
    <canvas id="overlay"></canvas>

    <!-- Top HUD -->
    <div id="topHUD" class="hud">
      <div class="chip" id="hudStatus">Idle</div>
      <div class="chip" id="hudFps">AI: -- fps</div>
      <div class="chip" id="hudHeading">Heading: --°</div>
      <div class="chip" id="hudPitch">Pitch: --°</div>
    </div>

    <!-- Bottom quick actions -->
    <div id="dock" class="dock">
      <button class="dockBtn" id="btnStart">Start</button>
      <button class="dockBtn" id="btnAI">AI: Off</button>
      <button class="dockBtn" id="btnSnap">Snap</button>
      <button class="dockBtn" id="btnGallery">Gallery</button>
      <button class="dockBtn" id="btnPanels">Panels</button>
    </div>

    <!-- Permission / onboarding sheet -->
    <div id="sheet" class="sheet hidden">
      <div class="sheetCard">
        <div class="sheetTitle">Enable Spatial HUD</div>
        <div class="sheetText">
          This runs fully in Safari using your camera + sensors. iOS will ask for permissions.
          <br/><br/>
          Tip: For best results, use good light and keep the phone steady.
        </div>

        <div class="sheetActions">
          <button id="btnPerms" class="primary">Grant Permissions</button>
          <button id="btnCloseSheet" class="ghost">Not now</button>
        </div>

        <div class="sheetFoot">
          LiDAR / true world-mapping isn’t exposed to normal web pages on iPhone Safari —
          this uses camera + on-device AI + motion to feel spatial.
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./js/app.js"></script>
</body>
</html>