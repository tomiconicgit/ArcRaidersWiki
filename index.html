<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <meta name="theme-color" content="#070a0f" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="stylesheet" href="./css/styles.css" />

  <title>Pocket Vision HUD</title>
</head>
<body>
  <div id="app">
    <video id="cam" autoplay playsinline muted></video>
    <canvas id="overlay"></canvas>

    <div id="topHUD" class="hud">
      <div class="chip" id="hudStatus">Idle</div>
      <div class="chip" id="hudFps">AI: -- fps</div>
      <div class="chip" id="hudHeading">Heading: --°</div>
      <div class="chip" id="hudPitch">Pitch: --°</div>
      <div class="chip" id="hudGestures">Gestures: Off</div>
      <div class="chip" id="hudSelect">Selected: —</div>
    </div>

    <div id="dock" class="dock">
      <button class="dockBtn" id="btnStart">Start</button>
      <button class="dockBtn" id="btnAI">AI: Off</button>
      <button class="dockBtn" id="btnGestures">Gestures</button>
      <button class="dockBtn" id="btnSnap">Snap</button>
      <button class="dockBtn" id="btnGallery">Gallery</button>
      <button class="dockBtn" id="btnPanels">Panels</button>
    </div>

    <div id="sheet" class="sheet hidden">
      <div class="sheetCard">
        <div class="sheetTitle">Enable Pocket Vision HUD</div>
        <div class="sheetText">
          This runs in Safari using your camera + optional motion + optional hand gestures.
          iOS will ask for permissions.
          <br /><br />
          Tips:
          <ul style="margin:8px 0 0 18px; padding:0; color:rgba(255,255,255,0.7);">
            <li>Use good light</li>
            <li>Keep your hand fully visible</li>
            <li>Turn on AI for object selection highlight</li>
          </ul>
        </div>

        <div class="sheetActions">
          <button id="btnPerms" class="primary">Grant & Start</button>
          <button id="btnCloseSheet" class="ghost">Not now</button>
        </div>

        <div class="sheetFoot">
          Note: iPhone Safari does not expose full LiDAR world mesh + anchored AR UI like Apple Vision.
          This uses camera + on-device ML + motion/gesture overlays.
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./js/app.js"></script>
</body>
</html>