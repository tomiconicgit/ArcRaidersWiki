<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <meta name="theme-color" content="#070a0f" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="stylesheet" href="./css/styles.css" />

  <title>Pocket Vision HUD</title>
</head>
<body>
  <div id="app">
    <video id="cam" autoplay playsinline muted></video>
    <canvas id="overlay"></canvas>

    <div id="topHUD" class="hud">
      <div class="chip" id="hudStatus">Idle</div>
      <div class="chip" id="hudFps">AI: -- fps</div>
      <div class="chip" id="hudHeading">Heading: --°</div>
      <div class="chip" id="hudPitch">Pitch: --°</div>
      <div class="chip" id="hudGestures">Gestures: Off</div>
      <div class="chip" id="hudSelect">Selected: —</div>
      <div class="chip" id="hudMode">Mode: Live</div>
    </div>

    <div id="dock" class="dock">
      <button class="dockBtn" id="btnStart">Start</button>
      <button class="dockBtn" id="btnAI">AI: Off</button>
      <button class="dockBtn" id="btnGestures">Gestures</button>
      <button class="dockBtn" id="btnSnap">Snap</button>
      <button class="dockBtn" id="btnGallery">Gallery</button>
      <button class="dockBtn" id="btnPanels">Panels</button>
    </div>

    <!-- Radial Tool Wheel -->
    <div id="toolWheel" class="wheel hidden" aria-hidden="true">
      <button class="wheelItem" data-tool="snap">Snap</button>
      <button class="wheelItem" data-tool="freeze">Freeze</button>
      <button class="wheelItem" data-tool="clear">Clear</button>
      <button class="wheelItem" data-tool="gallery">Gallery</button>
    </div>

    <div id="sheet" class="sheet hidden">
      <div class="sheetCard">
        <div class="sheetTitle">Enable Pocket Vision HUD</div>
        <div class="sheetText">
          Use AI + hand gestures for selection and snapping.
          <br /><br />
          Gesture tips:
          <ul style="margin:8px 0 0 18px; padding:0; color:rgba(255,255,255,0.7);">
            <li><b>Move finger</b> → selects nearest AI box</li>
            <li><b>Pinch</b> → snaps selected object</li>
            <li><b>Open palm</b> → radial tool wheel</li>
          </ul>
        </div>

        <div class="sheetActions">
          <button id="btnPerms" class="primary">Grant & Start</button>
          <button id="btnCloseSheet" class="ghost">Not now</button>
        </div>

        <div class="sheetFoot">
          Note: Safari doesn’t give full world-anchored AR. This is “camera + AI + gestures” style HUD.
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./js/app.js"></script>
</body>
</html>